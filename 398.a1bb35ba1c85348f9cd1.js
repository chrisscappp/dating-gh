"use strict";(self.webpackChunkdating_app_voenmeh=self.webpackChunkdating_app_voenmeh||[]).push([[398],{6398:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var r=t(4848),s=t(6540);const a={formTitle:"OaCpSeBz",successMsg:"VZeerRiI",input:"zdW9CY9B",btn:"hoTIFz1y"};var o=t(7101),l=t(6863),c=t(1541),u=t(6423),i=t(7947),d=t(1468),f=function(e){var n;return null===(n=e.changePassword)||void 0===n?void 0:n.isLoading},h=function(e){var n;return null===(n=e.changePassword)||void 0===n?void 0:n.error},p=t(6569),v=t(1616),m=t(4538),w=t(2767),b=t(458),x=t(2760);const y=(0,s.memo)((function(e){var n=e.className,t=e.onClose,y=e.onOpenErrorAlert,k=(e.onOpenSuccessAlert,(0,u.j)()),C=(0,d.d4)(i.O),E=(0,d.d4)(b.ed),g=(0,d.d4)(f),N=(0,d.d4)(h),j=(0,s.useState)(""),O=j[0],R=j[1],T=(0,s.useCallback)((function(e){k(p.dT.setPassword(e))}),[k]),P=(0,s.useCallback)((function(){return e=void 0,n=void 0,s=function(){return function(e,n){var t,r,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(s=2&l[0]?r.return:l[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,l[1])).done)return s;switch(r=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!s||l[1]>s[0]&&l[1]<s[3])){o.label=l[1];break}if(6===l[0]&&o.label<s[1]){o.label=s[1],s=l;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(l);break}s[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(e){switch(e.label){case 0:return[4,k((0,w.e)(E?E.userId:""))];case 1:return"fulfilled"===e.sent().meta.requestStatus?R("На вашу почту пришло письмо!"):(null==y||y(),null==t||t()),[2]}}))},new((r=void 0)||(r=Promise))((function(t,a){function o(e){try{c(s.next(e))}catch(e){a(e)}}function l(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,l)}c((s=s.apply(e,n||[])).next())}));var e,n,r,s}),[E,k,t,y]),S=(0,s.useCallback)((function(e){"Enter"===e.key&&P()}),[P]);return(0,s.useEffect)((function(){return window.addEventListener("keydown",S),function(){removeEventListener("keydown",S)}}),[S]),g?(0,r.jsx)("div",{className:(0,o.x)(a.ChangePasswordForm,{},[n]),children:(0,r.jsx)(v.a,{})}):O?(0,r.jsxs)(x.l,{className:(0,o.x)(a.ChangePasswordForm,{},[n]),children:[(0,r.jsx)(l.EY,{className:a.formTitle,title:"Смена пароля"}),(0,r.jsx)(l.EY,{className:a.successMsg,text:O}),(0,r.jsx)(m.$n,{className:a.btn,theme:m.Ox.BACKGROUND_INVERTED,onClick:t,children:"закрыть"})]}):(0,r.jsxs)(x.l,{className:(0,o.x)(a.ChangePasswordForm,{},[n]),children:[(0,r.jsx)(l.EY,{className:a.formTitle,title:"Смена пароля"}),N&&(0,r.jsx)(l.EY,{theme:l.$G.ERROR,text:N}),(0,r.jsx)(c.p,{autoFocus:!0,className:a.input,placeholder:"введите старый пароль",type:"password",value:null==C?void 0:C.password,onChange:T}),(0,r.jsx)(m.$n,{className:a.btn,theme:m.Ox.BACKGROUND_INVERTED,onClick:P,children:"изменить пароль"})]})}))}}]);