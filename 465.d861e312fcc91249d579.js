"use strict";(self.webpackChunkdating_app_voenmeh=self.webpackChunkdating_app_voenmeh||[]).push([[465],{5465:(e,n,t)=>{t.r(n),t.d(n,{default:()=>E});var o=t(4848),r=t(6540);const a={formTitle:"E169yKoe",input:"dngjh2aX",btn:"YH8K7DD_"};var l=t(7101),u=t(6863),s=t(1541),c=t(6423),i=t(1468),d=t(1616),f=t(4538),p=t(458),h=t(2389),v=t(4429),w=t(2760),b=t(1594),m=function(e){var n;return null===(n=e.deleteAccount)||void 0===n?void 0:n.error},y=function(e){var n;return null===(n=e.deleteAccount)||void 0===n?void 0:n.isLoading},k=t(7881),x=t(8431);const E=(0,r.memo)((function(e){var n=e.className,t=e.onClose,E=(0,h.Bd)(v.Y.DELETE_ACCOUNT_FORM).t,C=(0,c.j)(),g=(0,i.d4)(b.j),j=(0,i.d4)(m),N=(0,i.d4)(y),_=(0,r.useCallback)((function(e){C(x.gX.setPassword(e))}),[C]),R=(0,r.useCallback)((function(e){C(x.gX.setRepeatPassword(e))}),[C]),T=(0,r.useCallback)((function(){return e=void 0,n=void 0,r=function(){return function(e,n){var t,o,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(l=0)),l;)try{if(t=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return l.label++,{value:u[1],done:!1};case 5:l.label++,o=u[1],u=[0];continue;case 7:u=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){l=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){l.label=u[1];break}if(6===u[0]&&l.label<r[1]){l.label=r[1],r=u;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(u);break}r[2]&&l.ops.pop(),l.trys.pop();continue}u=n.call(e,l)}catch(e){u=[6,e],o=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}(this,(function(e){switch(e.label){case 0:return[4,C((0,k.l)())];case 1:return"fulfilled"===e.sent().meta.requestStatus&&(C(p.Xp.logout()),null==t||t(),window.scrollTo({top:0,behavior:"auto"})),[2]}}))},new((o=void 0)||(o=Promise))((function(t,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(l,u)}s((r=r.apply(e,n||[])).next())}));var e,n,o,r}),[C,t]),D=(0,r.useCallback)((function(e){"Enter"===e.key&&T()}),[T]);return(0,r.useEffect)((function(){return window.addEventListener("keydown",D),function(){removeEventListener("keydown",D)}}),[D]),N?(0,o.jsx)(d.a,{}):(0,o.jsxs)(w.l,{className:(0,l.x)(a.DeleteAccountForm,{},[n]),children:[(0,o.jsx)(u.EY,{className:a.formTitle,title:"Удаление анкеты"}),j&&(0,o.jsx)(u.EY,{text:j,theme:u.$G.ERROR}),(0,o.jsx)(s.p,{autoFocus:!0,type:"password",className:a.input,placeholder:E("Пароль"),onChange:_,value:null==g?void 0:g.password}),(0,o.jsx)(s.p,{type:"password",className:a.input,placeholder:E("повторите пароль"),onChange:R,value:null==g?void 0:g.repeatPassword}),(0,o.jsx)(f.$n,{className:a.btn,onClick:T,theme:f.Ox.BACKGROUND_INVERTED,children:E("удалить анкету")})]})}))}}]);